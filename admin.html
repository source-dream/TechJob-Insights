<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <link rel="stylesheet" href="https://cdn.sourcedream.cn/lib/bootstrap-icons/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="https://cdn.sourcedream.cn/lib/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.sourcedream.cn/lib/overlayscrollbars/styles/overlayscrollbars.min.css">
  <link rel="stylesheet" href="https://cdn.sourcedream.cn/dist/css/bootstrap-admin.min.css">
  <title>管理后台</title>
</head>

<body data-theme="light">
<!--头部导航-->
<ul class="bsa-header">
  <!-- 侧边栏触发按钮(移动端时显示) -->
  <li class="bsa-sidebar-toggler" data-bsa-toggle="pushmenu">
    <div class="bsa-header-item">
      <i class="bi bi-list"></i>
    </div>
  </li>
  <!--  搜索组件  -->
  <li>
    <div class="bsa-header-item bsa-cursor-default">
      <!--    搜索表单包裹区域        -->
      <div class="bsa-search-form-wrapper"
           data-bsa-toggle="navbar-search"
           data-close-reset="false"
           data-action="pages/search.html"
           data-params='{"type":"article","user":"admin2"}'>
        <div class="bsa-search-form">
          <input type="text" class="form-control bsa-input-search" aria-label="搜索关键词"
                 placeholder="搜索关键词">
          <button class="bsa-search-submit-btn" type="submit"><i class="bi bi-search"></i></button>
          <button class="bsa-search-close-btn" type="button"><i class="bi bi-x-lg"></i></button>
        </div>
      </div>
      <!--    移动端搜索表单触发器(移动端会显示)        -->
      <i class="bi bi-search bsa-search-form-toggler bsa-cursor-pointer"></i>
    </div>
  </li>
  <!--  占位(可以让后面的li居右)  -->
  <li class="flex-grow-1"></li>
  <!--  全屏  -->
  <li class="bsa-fullscreen-toggler">
    <div class="bsa-header-item">
      <i class="bi bi-arrows-fullscreen"></i>
    </div>
  </li>
  <!--    管理员信息    -->
  <li class="dropdown">
    <div class="bsa-header-item" data-bs-toggle="dropdown">
      <div class="bsa-user-area">
        <img src="https://cdn.sourcedream.cn/dist/img/avatar.jpg" class="bsa-user-avatar" alt="用户头像">
        <div class="bsa-user-details">
          <div class="bsa-ellipsis-1 bsa-fs-15">源梦</div>
          <div class="bsa-ellipsis-1 bsa-fs-13 text-muted">超级管理员</div>
        </div>
      </div>
    </div>
    <ul class="dropdown-menu dropdown-menu-end">
      <li>
        <div class="dropdown-divider"></div>
      </li>
      <li class="bsa-logout"><a class="dropdown-item" href="javascript:"><i
        class="bi bi-box-arrow-right me-2"></i>退出登录</a>
      </li>
    </ul>
  </li>
</ul>

<div class="bsa-sidebar">
  <div class="bsa-sidebar-header">
    <a class="bsa-logo-text ms-2 bsa-ellipsis-2" href="/">源梦职位分析</a>
  </div>
  <div class="bsa-sidebar-body" data-overlayscrollbars-initialize>
    <ul class="bsa-menu" data-bsa-toggle="sidebar" data-accordion="true" data-click-close="true">
      <li>
        <a href="/static/welcome.html">
          <i class="bi bi-house"></i>首页
        </a>
      </li>
      <li>
        <a href="javascript:" class="has-children">
          <i class="bi bi-person-lock"></i>权限管理
        </a>
        <ul>
          <li>
            <a href="/static/user.html">用户列表</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="javascript:" class="has-children">
          <i class="bi bi-filetype-html"></i>数据管理
        </a>
        <ul>
          <li>
            <a href="/static/data-manage.html">数据查看</a>
          </li>
          <li>
            <a href="/static/data-input.html">数据上传</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="javascript:" class="has-children">
          <i class="bi bi-gear"></i>设置
        </a>
        <ul>
        </ul>
      </li>
    </ul>
  </div>
</div>

<!--内容区域(用于tab选项卡插件)-->
<div class="bsa-content">
  <div class="qtab" data-qt-tabs='[{"title":"首页","url":"/static/welcome.html","close":false}]'></div>
</div>

<!--版权信息-->
<div class="bsa-footer">
  <p class="mb-0">Copyright © 2023. All right reserved.</p>
</div>

<!--加载层-->
<div class="bsa-preloader">
  <div class="spinner-border text-secondary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>


<script src="https://cdn.sourcedream.cn/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.sourcedream.cn/lib/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.sourcedream.cn/lib/overlayscrollbars/browser/overlayscrollbars.browser.es6.min.js"></script>
<script src="https://cdn.sourcedream.cn/lib/bootstrap-quicktab/dist/js/bootstrap-quicktab.min.js"></script>
<script src="https://cdn.sourcedream.cn/dist/js/bootstrap-admin.min.js"></script>
<script src="https://cdn.sourcedream.cn/dist/js/app.js"></script>

<script>
  $(function () {
    //头部搜索框处理(不需要可以删除,不明白的可以看bootstrap-admin官方文档)
    $(document).on('search.bsa.navbar-search', function (e, inputValue, data) {
      //先得到请求地址,组合后大概是这样pages/search.html?keyword=dsadsa&type=article&user=admin2
      let url = data.action + '?keyword=' + inputValue + '&' + $.param(data.params);
      //然后通过tab打开一个搜索结果的窗口
      Quicktab.get('.qtab').addTab({
        title: '<i class="bi bi-search"></i><span class="text-danger ms-2">' + inputValue + '</span>',
        url: url,
        close: true,
      })
    })
    //退出登录
    $(document).on('click', '.bsa-logout', function (e) {
      e.preventDefault();
      $.modal({
        body: '确定要退出吗？',
        cancelBtn: true,
        ok: function () {
          //请求退出路由
          $.ajax({
            method: 'post',
            url: '/logout',
          }).then(response => {
            if (response.code === 200) {//跳转到后台首页
              $.toasts({
                type: 'success',
                content: '退出成功',
                onHidden: function () {
                  top.location.replace('/pages/login.html');
                }
              })
            }
          });
        }
      })
    });
  });
</script>
</body>
</html>
